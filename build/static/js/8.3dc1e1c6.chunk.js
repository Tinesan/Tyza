(this.webpackJsonptyza=this.webpackJsonptyza||[]).push([[8],{260:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(17),r=a.n(n),c=a(36),s=a(21),o=a(0),u=a.n(o),l=a(180),i=a(181),m=a(178),p=a(259),d=a(256),f=a(15),b=a(103),E=a(57),v=a(56),h=function(){var e=Object(f.g)(),t=Object(b.useToasts)().addToast,a=Object(o.useContext)(v.a).setAuthData,n=Object(E.d)({skip:!0}).refetch,h=Object(o.useState)(""),j=Object(s.a)(h,2),O=j[0],g=j[1],k=Object(o.useState)(""),y=Object(s.a)(k,2),w=y[0],C=y[1],x=Object(o.useCallback)(Object(c.a)(r.a.mark((function c(){var s,o;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n({username:O,password:w});case 3:s=r.sent,(o=s.data.authenticate)&&(sessionStorage.setItem("login",JSON.stringify(o)),a(o),e.push("/admin")),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),t("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",{appearance:"error"});case 11:case"end":return r.stop()}}),c,null,[[0,8]])}))),[O,w,e,a,n,t]);return Object(o.useEffect)((function(){var e=function(e){"Enter"===e.key&&x()};return document.addEventListener("keypress",e),function(){document.removeEventListener("keypress",e)}}),[x]),u.a.createElement("section",{className:"mt-5"},u.a.createElement(l.a,null,u.a.createElement(i.a,{className:"justify-content-center"},u.a.createElement(m.a,{md:6},u.a.createElement(p.a.Group,{controlId:"formBasicEmail"},u.a.createElement(p.a.Label,null,"Login"),u.a.createElement(p.a.Control,{type:"text",placeholder:"Enter login",value:O,onChange:function(e){return g(e.target.value)}})),u.a.createElement(p.a.Group,{controlId:"formBasicPassword"},u.a.createElement(p.a.Label,null,"Password"),u.a.createElement(p.a.Control,{type:"password",placeholder:"Password",value:w,onChange:function(e){return C(e.target.value)}})),u.a.createElement(d.a,{variant:"primary",onClick:x},"Submit")))))}}}]);
//# sourceMappingURL=8.3dc1e1c6.chunk.js.map