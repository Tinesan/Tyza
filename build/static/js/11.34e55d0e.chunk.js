(this.webpackJsonptyza=this.webpackJsonptyza||[]).push([[11],{251:function(e,a,t){e.exports=t.p+"static/media/categories.55fc7d30.png"},260:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return Ea}));var n=t(0),r=t.n(n),l=t(23),c=t(31),i=t(30),o=t.n(i),u=(t(161),t(174)),s=t(32),m=r.a.createContext(null);m.displayName="NavbarContext";var d=m,b=r.a.createContext(null);b.displayName="CardContext";var f=b,v=t(191),p=r.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,i=e.children,u=e.as,m=void 0===u?"div":u,d=Object(c.a)(e,["bsPrefix","className","children","as"]);return t=Object(s.a)(t,"nav-item"),r.a.createElement(m,Object(l.a)({},d,{ref:a,className:o()(n,t)}),i)}));p.displayName="NavItem";var E=p,O=t(171),j=t(182),g={disabled:!1,as:O.a},x=r.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.disabled,i=e.className,u=e.href,m=e.eventKey,d=e.onSelect,b=e.as,f=Object(c.a)(e,["bsPrefix","disabled","className","href","eventKey","onSelect","as"]);return t=Object(s.a)(t,"nav-link"),r.a.createElement(j.a,Object(l.a)({},f,{href:u,ref:a,eventKey:m,as:b,disabled:n,onSelect:d,className:o()(i,t,n&&"disabled")}))}));x.displayName="NavLink",x.defaultProps=g;var h=x,y=r.a.forwardRef((function(e,a){var t,i,m,b=Object(u.a)(e,{activeKey:"onSelect"}),p=b.as,E=void 0===p?"div":p,O=b.bsPrefix,j=b.variant,g=b.fill,x=b.justify,h=b.navbar,y=b.className,C=b.children,N=b.activeKey,k=Object(c.a)(b,["as","bsPrefix","variant","fill","justify","navbar","className","children","activeKey"]),P=Object(s.a)(O,"nav"),w=!1,B=Object(n.useContext)(d),S=Object(n.useContext)(f);return B?(i=B.bsPrefix,w=null==h||h):S&&(m=S.cardHeaderBsPrefix),r.a.createElement(v.a,Object(l.a)({as:E,ref:a,activeKey:N,className:o()(y,(t={},t[P]=!w,t[i+"-nav"]=w,t[m+"-"+j]=!!m,t[P+"-"+j]=!!j,t[P+"-fill"]=g,t[P+"-justified"]=x,t))},k),C)}));y.displayName="Nav",y.defaultProps={justify:!1,fill:!1},y.Item=E,y.Link=h;var C=y,N=t(152),k=r.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,i=e.as,u=Object(c.a)(e,["bsPrefix","className","as"]);t=Object(s.a)(t,"navbar-brand");var m=i||(u.href?"a":"span");return r.a.createElement(m,Object(l.a)({},u,{ref:a,className:o()(n,t)}))}));k.displayName="NavbarBrand";var P,w=k,B=t(163),S=t(172),I=t(14),T=t(184),L=t(188),D={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function R(e,a){var t=a["offset"+e[0].toUpperCase()+e.slice(1)],n=D[e];return t+parseInt(Object(B.a)(a,n[0]),10)+parseInt(Object(B.a)(a,n[1]),10)}var M=((P={})[I.c]="collapse",P[I.d]="collapsing",P[I.b]="collapsing",P[I.a]="collapse show",P),A={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:R},F=r.a.forwardRef((function(e,a){var t=e.onEnter,i=e.onEntering,u=e.onEntered,s=e.onExit,m=e.onExiting,d=e.className,b=e.children,f=e.dimension,v=void 0===f?"height":f,p=e.getDimensionValue,E=void 0===p?R:p,O=Object(c.a)(e,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"]),j="function"===typeof v?v():v,g=Object(n.useMemo)((function(){return Object(T.a)((function(e){e.style[j]="0"}),t)}),[j,t]),x=Object(n.useMemo)((function(){return Object(T.a)((function(e){var a="scroll"+j[0].toUpperCase()+j.slice(1);e.style[j]=e[a]+"px"}),i)}),[j,i]),h=Object(n.useMemo)((function(){return Object(T.a)((function(e){e.style[j]=null}),u)}),[j,u]),y=Object(n.useMemo)((function(){return Object(T.a)((function(e){e.style[j]=E(j,e)+"px",Object(L.a)(e)}),s)}),[s,E,j]),C=Object(n.useMemo)((function(){return Object(T.a)((function(e){e.style[j]=null}),m)}),[j,m]);return r.a.createElement(I.e,Object(l.a)({ref:a,addEndListener:S.a},O,{"aria-expanded":O.role?O.in:null,onEnter:g,onEntering:x,onEntered:h,onExit:y,onExiting:C}),(function(e,a){return r.a.cloneElement(b,Object(l.a)({},a,{className:o()(d,b.props.className,M[e],"width"===j&&"width")}))}))}));F.defaultProps=A;var z=F,G=r.a.forwardRef((function(e,a){var t=e.children,n=e.bsPrefix,i=Object(c.a)(e,["children","bsPrefix"]);return n=Object(s.a)(n,"navbar-collapse"),r.a.createElement(d.Consumer,null,(function(e){return r.a.createElement(z,Object(l.a)({in:!(!e||!e.expanded)},i),r.a.createElement("div",{ref:a,className:n},t))}))}));G.displayName="NavbarCollapse";var H=G,K=t(153),V=r.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.className,u=e.children,m=e.label,b=e.as,f=void 0===b?"button":b,v=e.onClick,p=Object(c.a)(e,["bsPrefix","className","children","label","as","onClick"]);t=Object(s.a)(t,"navbar-toggler");var E=Object(n.useContext)(d)||{},O=E.onToggle,j=E.expanded,g=Object(K.a)((function(e){v&&v(e),O&&O()}));return"button"===f&&(p.type="button"),r.a.createElement(f,Object(l.a)({},p,{ref:a,onClick:g,"aria-label":m,className:o()(i,t,!j&&"collapsed")}),u||r.a.createElement("span",{className:t+"-icon"}))}));V.displayName="NavbarToggle",V.defaultProps={label:"Toggle navigation"};var J=V,Q=t(160),U=Object(N.a)("navbar-text",{Component:"span"}),Z=r.a.forwardRef((function(e,a){var t=Object(u.a)(e,{expanded:"onToggle"}),i=t.bsPrefix,m=t.expand,b=t.variant,f=t.bg,v=t.fixed,p=t.sticky,E=t.className,O=t.children,j=t.as,g=void 0===j?"nav":j,x=t.expanded,h=t.onToggle,y=t.onSelect,C=t.collapseOnSelect,N=Object(c.a)(t,["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"]),k=Object(s.a)(i,"navbar"),P=Object(n.useCallback)((function(){y&&y.apply(void 0,arguments),C&&x&&h&&h(!1)}),[y,C,x,h]);void 0===N.role&&"nav"!==g&&(N.role="navigation");var w=k+"-expand";"string"===typeof m&&(w=w+"-"+m);var B=Object(n.useMemo)((function(){return{onToggle:function(){return h&&h(!x)},bsPrefix:k,expanded:!!x}}),[k,x,h]);return r.a.createElement(d.Provider,{value:B},r.a.createElement(Q.a.Provider,{value:P},r.a.createElement(g,Object(l.a)({ref:a},N,{className:o()(E,k,m&&w,b&&k+"-"+b,f&&"bg-"+f,p&&"sticky-"+p,v&&"fixed-"+v)}),O)))}));Z.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Z.displayName="Navbar",Z.Brand=w,Z.Toggle=J,Z.Collapse=H,Z.Text=U;var q=Z,W=t(12),X=t(11),Y=t(140),$=t(69),_=t(150),ee=t.n(_),ae=t(151),te=t(45),ne=t(141),re=t(139),le=t(258),ce=t(142),ie=t(75),oe=t(257),ue=function(e){var a=e.body,t=e.title,n=e.saveButtonDisabled,l=e.onSave,c=e.onCancel;return r.a.createElement(oe.a,{show:!0,size:"lg",centered:!0,onHide:c,"aria-labelledby":"contained-modal-title-vcenter"},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,t)),r.a.createElement(oe.a.Body,null,a),r.a.createElement(oe.a.Footer,null,r.a.createElement("div",null,r.a.createElement(le.a,{variant:"secondary",onClick:c},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")),r.a.createElement("div",null,r.a.createElement(le.a,{variant:"primary",onClick:l,disabled:n},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))},se=function(e){var a=e.body,t=e.title,n=e.confirmButtonDisabled,l=e.onCancel,c=e.onConfirm;return r.a.createElement(oe.a,{show:!0,size:"lg",centered:!0,onHide:l,"aria-labelledby":"contained-modal-title-vcenter"},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,t)),a&&r.a.createElement(oe.a.Body,null,a),r.a.createElement(oe.a.Footer,null,r.a.createElement("div",null,r.a.createElement(le.a,{variant:"secondary",onClick:l},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")),r.a.createElement("div",null,r.a.createElement(le.a,{variant:"primary",onClick:c,disabled:n},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"))))},me=t(71),de=t(37),be=t(46),fe=t(175),ve=t(264),pe=function(e){var a=e.categories,t=e.onEditButtonClick,l=e.onDeleteButtonClick,c=Object(n.useContext)(de.a).isAdmin;return r.a.createElement(ve.a,null,Object(fe.a)(a).sort(be.c).map((function(e){var a=e.id,n=e.name,i=!c||"OTHER"===n;return r.a.createElement(ve.a.Item,{action:!0,key:a},r.a.createElement(ne.a,{className:"align-items-center"},r.a.createElement(re.a,{md:8},n),r.a.createElement(re.a,{className:"justify-content-end d-flex"},r.a.createElement("div",{className:"mr-3"},r.a.createElement(le.a,{variant:"primary",disabled:i,onClick:function(){return t(a)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement("div",null,r.a.createElement(le.a,{variant:"danger",disabled:i,onClick:function(){return l(a)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))})))},Ee=t(262),Oe=function(e){var a=e.id,t=e.children,l=Object(n.useState)(""),c=Object(te.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)("1"),s=Object(te.a)(u,2),m=s[0],d=s[1],b=Object(me.g)({skip:!a,variables:{id:a}}).data;return Object(n.useEffect)((function(){if((null===b||void 0===b?void 0:b.categoryById)&&(o(b.categoryById.name),b.categoryById.description)){var e=+b.categoryById.description;d(isNaN(e)?"1":e.toString())}}),[b]),t({form:r.a.createElement(ne.a,{className:"justify-content-center"},r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,null,r.a.createElement(Ee.a.Label,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(Ee.a.Control,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",value:i,onChange:function(e){return o(e.target.value)}}),r.a.createElement(Ee.a.Label,null,"\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(Ee.a.Control,{min:1,type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",value:m,onChange:function(e){return d(e.target.value)}})))),categoryModalData:{categoryName:i,categoryOrder:m,id:a},isSaveButtonDisabled:!i.trim()})},je=function(){var e=Object(ie.useToasts)().addToast,a=Object(n.useContext)(be.a),t=a.categories,l=a.dataProviderLoading,c=a.refetchCategoriesAndProducts,i=Object(n.useContext)(de.a).isAdmin,o=Object(n.useState)(null),u=Object(te.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(void 0),b=Object(te.a)(d,2),f=b[0],v=b[1],p=Object(me.a)(),E=Object(te.a)(p,2),O=E[0],j=E[1].loading,g=Object(me.m)(),x=Object(te.a)(g,2),h=x[0],y=x[1].loading,C=Object(me.h)(),N=Object(te.a)(C,2),k=N[0],P=N[1].loading,w=function(){var a=Object(ae.a)(ee.a.mark((function a(t){var n,r,l;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.id,r=t.categoryName,l=t.categoryOrder,a.prev=1,!n){a.next=7;break}return a.next=5,h({variables:{id:n,name:r,description:l}});case 5:a.next=9;break;case 7:return a.next=9,O({variables:{name:r,description:l}});case 9:return a.next=11,c();case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),e("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{appearance:"error"});case 16:m(null);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}(),B=function(){var a=Object(ae.a)(ee.a.mark((function a(){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!f){a.next=12;break}return a.prev=1,a.next=4,k({variables:{id:f}});case 4:return a.next=6,c();case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{appearance:"error"});case 11:v(void 0);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}(),S=Object(n.useMemo)((function(){if(f){var e=t.find((function(e){return e.id===f}));if(e)return e.name}return""}),[t,f]),I=j||y||l;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:"mt-3"},r.a.createElement(re.a,null,r.a.createElement(le.a,{disabled:!i,onClick:function(){return m(void 0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"))),r.a.createElement(ne.a,{className:"mt-3"},r.a.createElement(re.a,null,l?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(ce.a,{animation:"border",variant:"primary"})):r.a.createElement(pe,{categories:t,onEditButtonClick:function(e){m(e)},onDeleteButtonClick:function(e){v(e)}}))),null!==s&&r.a.createElement(Oe,{id:s},(function(e){var a=e.form,t=e.isSaveButtonDisabled,n=e.categoryModalData,l=void 0===s?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e",c=t||I;return r.a.createElement(ue,{body:a,title:l,onSave:function(){return w(n)},onCancel:function(){return m(null)},saveButtonDisabled:c})})),f&&r.a.createElement(se,{title:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e ".concat(S),onConfirm:B,onCancel:function(){return v(void 0)},confirmButtonDisabled:P||I}))};function ge(){var e=Object(X.a)([""]);return ge=function(){return e},e}var xe=$.b.section(ge()),he=function(){return r.a.createElement(xe,null,r.a.createElement(Y.a,null,r.a.createElement(je,null)))},ye=r.a.forwardRef((function(e,a){var t=e.active,n=e.disabled,i=e.className,u=e.style,s=e.activeLabel,m=e.children,d=Object(c.a)(e,["active","disabled","className","style","activeLabel","children"]),b=t||n?"span":O.a;return r.a.createElement("li",{ref:a,style:u,className:o()(i,"page-item",{active:t,disabled:n})},r.a.createElement(b,Object(l.a)({className:"page-link",disabled:n},d),m,t&&s&&r.a.createElement("span",{className:"sr-only"},s)))}));ye.defaultProps={active:!1,disabled:!1,activeLabel:"(current)"},ye.displayName="PageItem";var Ce=ye;function Ne(e,a,t){function n(e){var n=e.children,l=Object(c.a)(e,["children"]);return r.a.createElement(ye,l,r.a.createElement("span",{"aria-hidden":"true"},n||a),r.a.createElement("span",{className:"sr-only"},t))}return void 0===t&&(t=e),n.displayName=e,n}var ke=Ne("First","\xab"),Pe=Ne("Prev","\u2039","Previous"),we=Ne("Ellipsis","\u2026","More"),Be=Ne("Next","\u203a"),Se=Ne("Last","\xbb"),Ie=r.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,i=e.children,u=e.size,m=Object(c.a)(e,["bsPrefix","className","children","size"]),d=Object(s.a)(t,"pagination");return r.a.createElement("ul",Object(l.a)({ref:a},m,{className:o()(n,d,u&&d+"-"+u)}),i)}));Ie.First=ke,Ie.Prev=Pe,Ie.Ellipsis=we,Ie.Item=Ce,Ie.Next=Be,Ie.Last=Se;var Te=Ie,Le=r.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,i=e.striped,u=e.bordered,m=e.borderless,d=e.hover,b=e.size,f=e.variant,v=e.responsive,p=Object(c.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),E=Object(s.a)(t,"table"),O=o()(n,E,f&&E+"-"+f,b&&E+"-"+b,i&&E+"-striped",u&&E+"-bordered",m&&E+"-borderless",d&&E+"-hover"),j=r.a.createElement("table",Object(l.a)({},p,{className:O,ref:a}));if(v){var g=E+"-responsive";return"string"===typeof v&&(g=g+"-"+v),r.a.createElement("div",{className:g},j)}return j})),De=function(e){var a=e.data,t=a.customer,n=a.deliveryTime,l=a.productOrderLines,c=t.name,i=t.phone,o=t.street,u=t.house,s=t.flat,m=l.reduce((function(e,a){return e+a.price*a.orderQuantity}),0);return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("span",null,c),r.a.createElement("span",{className:"font-weight-bold"},i))),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("span",null,o," - ",u," ",s&&"-".concat(s)),r.a.createElement("span",{className:"font-weight-bold"},n))),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex flex-column"},l.map((function(e){var a=e.id,t=e.name,n=e.orderQuantity,l=e.price;return r.a.createElement("div",{className:"d-flex flex-column",key:a},r.a.createElement("span",null,t," - ",n),r.a.createElement("span",null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u043e\u0432\u0430\u0440\u0430 : ",n*l))})))),r.a.createElement("td",null,r.a.createElement("span",{className:"font-weight-bold"},m)))};function Re(){var e=Object(X.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  padding-top: 50px;\n"]);return Re=function(){return e},e}var Me=$.b.div(Re()),Ae=function(){var e=Object(me.j)({variables:{page:"0",size:"20",sort:"createdDate,DESC"}}),a=e.data,t=e.refetch,l=Object(n.useCallback)((function(){var e=null===a||void 0===a?void 0:a.findAllOrders.number;"number"===typeof e&&t({page:(e+1).toString()})}),[t,a]),c=Object(n.useCallback)((function(){var e=null===a||void 0===a?void 0:a.findAllOrders.number;"number"===typeof e&&t({page:(e-1).toString()})}),[t,a]);if(!(null===a||void 0===a?void 0:a.findAllOrders.content))return r.a.createElement(Me,null,r.a.createElement(ce.a,{animation:"border",variant:"primary"}),";");var i=a.findAllOrders,o=i.first,u=i.totalPages,s=i.last,m=i.number;return r.a.createElement(Y.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(Te,null,r.a.createElement(Te.First,{disabled:o,onClick:function(){return t({page:"0"})}}),r.a.createElement(Te.Prev,{disabled:o,onClick:c}),!o&&r.a.createElement(Te.Item,{onClick:c},m),r.a.createElement(Te.Item,{active:!0},m+1),!s&&r.a.createElement(Te.Item,{onClick:l},m+2),r.a.createElement(Te.Next,{disabled:s,onClick:l}),r.a.createElement(Te.Last,{disabled:s,onClick:function(){return t({page:(u-1).toString()})}})))),r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(Le,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a"),r.a.createElement("th",null,"\u0410\u0434\u0440\u0435\u0441 / \u0432\u0440\u0435\u043c\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 "),r.a.createElement("th",null,"\u0422\u043e\u0432\u0430\u0440\u044b"),r.a.createElement("th",null,"\u0426\u0435\u043d\u0430 "))),r.a.createElement("tbody",null,a.findAllOrders.content.map((function(e){return r.a.createElement(De,{key:e.id,data:e})})))))))},Fe=t(34),ze=t(72),Ge=t(77);function He(){var e=Object(X.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40px;\n  height: 40px;\n  flex-shrink: 0;\n\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n"]);return He=function(){return e},e}var Ke=$.b.div(He()),Ve=function(e){var a,t=e.product,l=e.onChangeIcon,c=e.onEditButtonClick,i=e.onDeleteButtonClick,o=Object(n.useContext)(de.a).isAdmin,u=t.name,s=t.images,m=null===(a=s[s.length-1])||void 0===a?void 0:a.uri;return r.a.createElement(ve.a.Item,{action:!0},r.a.createElement(ne.a,{className:"align-items-center"},r.a.createElement(re.a,{md:5},u),r.a.createElement(re.a,{className:"justify-content-end d-flex"},r.a.createElement(Ke,{className:"mr-3"},m&&r.a.createElement("img",{src:"".concat(Ge.a).concat(m),alt:"productImage"})),r.a.createElement(Ee.a.File,{custom:!0,className:"mr-3",disabled:!o,label:m?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",onChange:l}),r.a.createElement("div",{className:"mr-3"},r.a.createElement(le.a,{variant:"primary",onClick:c},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement("div",null,r.a.createElement(le.a,{variant:"danger",disabled:!o,onClick:i},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))))},Je=function(e){var a=e.id,t=e.children,l=Object(n.useContext)(de.a).isAdmin,c=Object(me.l)({variables:{id:a},skip:!a}).data,i=Object(n.useContext)(be.a).categories,o=Object(n.useState)(""),u=Object(te.a)(o,2),s=u[0],m=u[1],d=Object(n.useState)(""),b=Object(te.a)(d,2),f=b[0],v=b[1],p=Object(n.useState)(!0),E=Object(te.a)(p,2),O=E[0],j=E[1],g=Object(n.useState)(0),x=Object(te.a)(g,2),h=x[0],y=x[1],C=Object(n.useState)("1\u043a\u0433"),N=Object(te.a)(C,2),k=N[0],P=N[1],w=Object(n.useState)(""),B=Object(te.a)(w,2),S=B[0],I=B[1],T=Object(n.useState)("\u0421\u043e\u0441\u0442\u0430\u0432:"),L=Object(te.a)(T,2),D=L[0],R=L[1];Object(n.useEffect)((function(){if(null===c||void 0===c?void 0:c.productById){var e=c.productById,a=e.name,t=e.price,n=e.stock,r=e.costPer,l=e.position,i=e.categoryId,o=e.description;m(a),v(t),j(n),P(r),y(l),I(i),R(o||"")}}),[c]);var M=[s,f,k,S].some((function(e){return!e.toString().trim()}));return t({form:r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:"justify-content-center"},r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,null,r.a.createElement(Ee.a.Label,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"),r.a.createElement(Ee.a.Control,{type:"text",value:s,disabled:!l,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",onChange:function(e){return m(e.target.value)}}))),r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,{controlId:"exampleForm.SelectCustom"},r.a.createElement(Ee.a.Label,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430"),r.a.createElement(Ee.a.Control,{as:"select",custom:!0,disabled:!l,defaultValue:"",onChange:function(e){return I(e.target.value)}},r.a.createElement("option",{disabled:!0,value:""},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),i.map((function(e){var a=e.id,t=e.name;return r.a.createElement("option",{key:a,value:a,selected:a===S},t)})))))),r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,null,r.a.createElement(Ee.a.Label,null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"),r.a.createElement(Ee.a.Control,{rows:3,type:"text",as:"textarea",disabled:!l,value:D,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",onChange:function(e){return R(e.target.value)}})))),r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,null,r.a.createElement(Ee.a.Label,null,"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"),r.a.createElement(Ee.a.Control,{type:"number",value:h,disabled:!l,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",onChange:function(e){return y(+e.target.value)}}))),r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,null,r.a.createElement(Ee.a.Label,null,"\u0426\u0435\u043d\u0430 \u0442\u043e\u0432\u0430\u0440\u0430, \u0440\u0443\u0431\u043b\u0435\u0439"),r.a.createElement(Ee.a.Control,{min:"0",value:f,type:"number",disabled:!l,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u0430",onChange:function(e){return v(e.target.value)}}))),r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,null,r.a.createElement(Ee.a.Label,null,"C\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0437\u0430"),r.a.createElement(Ee.a.Control,{type:"text",value:k,disabled:!l,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0437\u0430 ( 1\u043a\u0433, 1 \u0443\u043f\u0430\u043a\u043e\u0432\u043a\u0443, \u043f\u0430\u0440\u0443, \u043c\u0435\u0442\u0440)",onChange:function(e){return P(e.target.value)}})))),r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(Ee.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(Ee.a.Check,{type:"checkbox",checked:O,onChange:function(e){return j(e.target.checked)},label:"\u0422\u043e\u0432\u0430\u0440 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"}))))),productModalData:{id:a,name:s,price:f,stock:O,costPer:k,position:h,categoryId:S,description:D},isSaveButtonDisabled:M})},Qe=function(){var e=Object(ie.useToasts)().addToast,a=Object(n.useContext)(be.a),t=a.products,l=a.dataProviderLoading,c=a.refetchCategoriesAndProducts,i=Object(n.useContext)(de.a).isAdmin,o=Object(me.b)(),u=Object(te.a)(o,1)[0],s=Object(me.c)(),m=Object(te.a)(s,1)[0],d=Object(me.n)(),b=Object(te.a)(d,1)[0],f=Object(me.i)(),v=Object(te.a)(f,1)[0],p=Object(n.useState)(null),E=Object(te.a)(p,2),O=E[0],j=E[1],g=Object(n.useState)(void 0),x=Object(te.a)(g,2),h=x[0],y=x[1],C=Object(n.useMemo)((function(){if(h){var e=t.find((function(e){return e.id===h}));if(e)return e.name}return""}),[t,h]),N=function(){var a=Object(ae.a)(ee.a.mark((function a(t){var n,r;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.id,r=Object(ze.a)(t,["id"]),a.prev=1,!n){a.next=7;break}return a.next=5,b({variables:Object(Fe.a)(Object(Fe.a)({},t),{},{id:n})});case 5:a.next=9;break;case 7:return a.next=9,m({variables:r});case 9:return a.next=11,c();case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),e("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{appearance:"error"});case 16:j(null);case 17:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}(),k=function(){var a=Object(ae.a)(ee.a.mark((function a(){return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!h){a.next=6;break}return a.next=4,v({variables:{id:h}});case 4:return a.next=6,c();case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{appearance:"error"});case 11:y(void 0);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}(),P=function(a){return function(){var t=Object(ae.a)(ee.a.mark((function t(n){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.target.files){t.next=11;break}return t.prev=1,t.next=4,u({variables:{productId:a,images:[n.target.files[0]]}});case 4:return t.next=6,c();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e("\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",{appearance:"error"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:"mt-3"},r.a.createElement(re.a,null,r.a.createElement(le.a,{disabled:!i,onClick:function(){return j(void 0)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"))),r.a.createElement(ne.a,{className:"mt-3"},r.a.createElement(re.a,null,l?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(ce.a,{animation:"border",variant:"primary"})):r.a.createElement(ve.a,null,Object(fe.a)(t).sort(be.c).map((function(e){var a=e.id;return r.a.createElement(Ve,{key:a,product:e,onChangeIcon:P(a),onEditButtonClick:function(){return j(a)},onDeleteButtonClick:function(){return function(e){y(e)}(a)}})}))))),null!==O&&r.a.createElement(Je,{id:O},(function(e){var a=e.form,t=e.isSaveButtonDisabled,n=e.productModalData,l=void 0===O?"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440",c=t;return r.a.createElement(ue,{body:a,title:l,onSave:function(){return N(n)},onCancel:function(){return j(null)},saveButtonDisabled:c})})),h&&r.a.createElement(se,{title:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e ".concat(C),onConfirm:k,onCancel:function(){return y(void 0)},confirmButtonDisabled:l}))};function Ue(){var e=Object(X.a)([""]);return Ue=function(){return e},e}var Ze=$.b.section(Ue()),qe=function(){return r.a.createElement(Ze,null,r.a.createElement(Y.a,null,r.a.createElement(Qe,null)))},We=t(189),Xe=r.a.forwardRef((function(e,a){var t=e.bsPrefix,n=e.className,i=e.variant,u=e.as,m=void 0===u?"img":u,d=Object(c.a)(e,["bsPrefix","className","variant","as"]),b=Object(s.a)(t,"card-img");return r.a.createElement(m,Object(l.a)({ref:a,className:o()(i?b+"-"+i:b,n)},d))}));Xe.displayName="CardImg",Xe.defaultProps={variant:null};var Ye=Xe,$e=Object(We.a)("h5"),_e=Object(We.a)("h6"),ea=Object(N.a)("card-body"),aa=Object(N.a)("card-title",{Component:$e}),ta=Object(N.a)("card-subtitle",{Component:_e}),na=Object(N.a)("card-link",{Component:"a"}),ra=Object(N.a)("card-text",{Component:"p"}),la=Object(N.a)("card-header"),ca=Object(N.a)("card-footer"),ia=Object(N.a)("card-img-overlay"),oa=r.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.className,u=e.bg,m=e.text,d=e.border,b=e.body,v=e.children,p=e.as,E=void 0===p?"div":p,O=Object(c.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),j=Object(s.a)(t,"card"),g=Object(n.useMemo)((function(){return{cardHeaderBsPrefix:j+"-header"}}),[j]);return r.a.createElement(f.Provider,{value:g},r.a.createElement(E,Object(l.a)({ref:a},O,{className:o()(i,j,u&&"bg-"+u,m&&"text-"+m,d&&"border-"+d)}),b?r.a.createElement(ea,null,v):v))}));oa.displayName="Card",oa.defaultProps={body:!1},oa.Img=Ye,oa.Title=aa,oa.Subtitle=ta,oa.Body=ea,oa.Link=na,oa.Text=ra,oa.Header=la,oa.Footer=ca,oa.ImgOverlay=ia;var ua=oa,sa=t(251),ma=t.n(sa);function da(){var e=Object(X.a)(["\n  max-width: 300px;\n  text-align: center;\n"]);return da=function(){return e},e}function ba(){var e=Object(X.a)(["\n  padding-top: 40px;\n"]);return ba=function(){return e},e}var fa=$.b.section(ba()),va=$.b.div(da()),pa=function(){var e=Object(W.g)();return r.a.createElement(fa,null,r.a.createElement(Y.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(va,null,r.a.createElement(ua,null,r.a.createElement(ua.Img,{variant:"top",src:ma.a}),r.a.createElement(ua.Body,null,r.a.createElement(ua.Title,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(ua.Text,null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(le.a,{variant:"primary",onClick:function(){return e.push("/admin/categories")}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c"))))),r.a.createElement(re.a,null,r.a.createElement(va,null,r.a.createElement(ua,null,r.a.createElement(ua.Img,{variant:"top",src:ma.a}),r.a.createElement(ua.Body,null,r.a.createElement(ua.Title,null,"\u0422\u043e\u0432\u0430\u0440\u044b"),r.a.createElement(ua.Text,null,"\u0422\u043e\u0432\u0430\u0440\u044b"),r.a.createElement(le.a,{variant:"primary",onClick:function(){return e.push("/admin/products")}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0442\u043e\u0432\u0430\u0440\u0430\u043c"))))),r.a.createElement(re.a,null,r.a.createElement(va,null,r.a.createElement(ua,null,r.a.createElement(ua.Img,{variant:"top",src:ma.a}),r.a.createElement(ua.Body,null,r.a.createElement(ua.Title,null,"\u0417\u0430\u043a\u0430\u0437\u044b"),r.a.createElement(ua.Text,null,"\u0417\u0430\u043a\u0430\u0437\u044b"),r.a.createElement(le.a,{variant:"primary",onClick:function(){return e.push("/admin/orders")}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0437\u0430\u043a\u0430\u0437\u0430\u043c"))))))))},Ea=function(){var e=Object(W.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{className:"mb-5 ",bg:"primary",variant:"dark"},r.a.createElement(q.Brand,{onClick:function(){return e.push("/admin")}},"TyZa - Admin panel"),r.a.createElement(C,{className:"w-100"},r.a.createElement(C.Link,{onClick:function(){return e.push("/admin/categories")}},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(C.Link,{onClick:function(){return e.push("/admin/products")}},"\u0422\u043e\u0432\u0430\u0440\u044b"),r.a.createElement(C.Link,{onClick:function(){return e.push("/admin/orders")}},"\u0417\u0430\u043a\u0430\u0437\u044b"),r.a.createElement(C.Link,{className:"font-weight-bold text-white ml-auto",onClick:function(){return e.push("/")}},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0430\u0439\u0442"))),r.a.createElement(W.d,null,r.a.createElement(W.b,{exact:!0,path:"/admin"},r.a.createElement(pa,null)),r.a.createElement(W.b,{path:"/admin/categories"},r.a.createElement(he,null)),r.a.createElement(W.b,{path:"/admin/products"},r.a.createElement(qe,null)),r.a.createElement(W.b,{path:"/admin/orders"},r.a.createElement(Ae,null)),r.a.createElement(W.b,{render:function(){return r.a.createElement(W.a,{to:"/"})}})))}}}]);
//# sourceMappingURL=11.34e55d0e.chunk.js.map